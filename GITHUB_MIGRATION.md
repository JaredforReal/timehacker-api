# GitHub ä»“åº“é‡æ„è¿ç§»æŒ‡å—

æœ¬æŒ‡å—å¸®åŠ©æ‚¨å°†é‡æ„åçš„ TimeHacker API é¡¹ç›®æ¨é€åˆ°ç°æœ‰çš„ GitHub ä»“åº“ï¼ŒåŒæ—¶ä¿ç•™é¡¹ç›®å†å²ã€‚

## è¿ç§»ç­–ç•¥

æˆ‘ä»¬é‡‡ç”¨åˆ†æ”¯ç­–ç•¥æ¥å¹³æ»‘è¿‡æ¸¡ï¼š

1. ä¿ç•™åŸæœ‰ä¸»åˆ†æ”¯ä½œä¸ºå†å²è®°å½•
2. åˆ›å»ºæ–°çš„é‡æ„åˆ†æ”¯
3. é€æ­¥è¿ç§»å¹¶æœ€ç»ˆæ›¿æ¢ä¸»åˆ†æ”¯

## æ­¥éª¤ä¸€ï¼šå¤‡ä»½ç°æœ‰åˆ†æ”¯

```bash
# 1. è¿›å…¥é¡¹ç›®ç›®å½•
cd /Users/jaredwen/TimeHacker/backend

# 2. æŸ¥çœ‹å½“å‰åˆ†æ”¯çŠ¶æ€
git status
git branch -a

# 3. ç¡®ä¿æ‰€æœ‰æ›´æ”¹éƒ½å·²æäº¤
git add .
git commit -m "ä¿å­˜å½“å‰é‡æ„è¿›åº¦"

# 4. å¤‡ä»½å½“å‰ä¸»åˆ†æ”¯ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
git branch backup-main-$(date +%Y%m%d) main 2>/dev/null || echo "mainåˆ†æ”¯ä¸å­˜åœ¨ï¼Œè·³è¿‡å¤‡ä»½"
```

## æ­¥éª¤äºŒï¼šå‡†å¤‡é‡æ„åˆ†æ”¯

```bash
# 1. åˆ›å»ºå¹¶åˆ‡æ¢åˆ°é‡æ„åˆ†æ”¯
git checkout -b refactor-v2

# 2. æ·»åŠ æ‰€æœ‰é‡æ„åçš„æ–‡ä»¶
git add .

# 3. æäº¤é‡æ„ä»£ç 
git commit -m "ğŸ‰ TimeHacker API é‡æ„å®Œæˆ

æ–°å¢ç‰¹æ€§ï¼š
- é‡‡ç”¨ç°ä»£åŒ– FastAPI æ¶æ„
- åˆ†å±‚æ¶æ„è®¾è®¡ï¼ˆAPI/Service/Modelï¼‰
- å®Œæ•´çš„ä»£ç è´¨é‡å·¥å…·é“¾
- Docker å®¹å™¨åŒ–éƒ¨ç½²
- è‡ªåŠ¨åŒ–è„šæœ¬å’Œéƒ¨ç½²æ–‡æ¡£
- å®Œæ•´çš„æµ‹è¯•å¥—ä»¶
- API ç‰ˆæœ¬æ§åˆ¶ï¼ˆv1ï¼‰

æŠ€æœ¯æ ˆï¼š
- FastAPI + Pydantic
- Supabase åç«¯æœåŠ¡
- Docker + Nginx éƒ¨ç½²
- å®Œæ•´çš„ä»£ç è´¨é‡å·¥å…·ï¼ˆBlack, Ruff, Mypyç­‰ï¼‰

æ¶æ„æ”¹è¿›ï¼š
- ä¾èµ–æ³¨å…¥æ¨¡å¼
- ç»Ÿä¸€é”™è¯¯å¤„ç†
- é…ç½®ç®¡ç†ä¼˜åŒ–
- å®‰å…¨æ€§å¢å¼º"
```

## æ­¥éª¤ä¸‰ï¼šæ¨é€åˆ° GitHub

```bash
# 1. æ£€æŸ¥è¿œç¨‹ä»“åº“
git remote -v

# 2. å¦‚æœæ²¡æœ‰è¿œç¨‹ä»“åº“ï¼Œæ·»åŠ å®ƒ
# git remote add origin https://github.com/JaredforReal/timehacker-api.git

# 3. æ¨é€é‡æ„åˆ†æ”¯
git push -u origin refactor-v2

# 4. æ¨é€å½“å‰çš„profileåˆ†æ”¯ï¼ˆå¦‚æœéœ€è¦ï¼‰
git push origin profile

# 5. æŸ¥çœ‹æ¨é€ç»“æœ
git log --oneline -10
```

## æ­¥éª¤å››ï¼šåœ¨ GitHub ä¸Šåˆ›å»º Pull Request

1. **è®¿é—® GitHub ä»“åº“**: https://github.com/JaredforReal/timehacker-api
2. **åˆ›å»º Pull Request**:
   - From: `refactor-v2`
   - To: `main` (æˆ–ä½ æƒ³è¦åˆå¹¶åˆ°çš„ç›®æ ‡åˆ†æ”¯)
3. **æ·»åŠ è¯¦ç»†æè¿°**:

````markdown
# ğŸš€ TimeHacker API é‡æ„ - ç°ä»£åŒ–æ¶æ„å‡çº§

## æ¦‚è¿°

è¿™æ˜¯ TimeHacker API çš„å®Œæ•´é‡æ„ç‰ˆæœ¬ï¼Œé‡‡ç”¨ç°ä»£åŒ–çš„ FastAPI æ¶æ„ï¼Œå¤§å¹…æå‡äº†ä»£ç è´¨é‡ã€å¯ç»´æŠ¤æ€§å’Œéƒ¨ç½²ä¾¿åˆ©æ€§ã€‚

## ğŸ†• æ–°å¢ç‰¹æ€§

### æ¶æ„æ”¹è¿›

- âœ… åˆ†å±‚æ¶æ„è®¾è®¡ (API â†’ Service â†’ Model)
- âœ… ä¾èµ–æ³¨å…¥æ¨¡å¼
- âœ… ç»Ÿä¸€é”™è¯¯å¤„ç†
- âœ… API ç‰ˆæœ¬æ§åˆ¶ (v1)
- âœ… é…ç½®ç®¡ç†ä¼˜åŒ–

### ä»£ç è´¨é‡

- âœ… å®Œæ•´çš„ä»£ç è´¨é‡å·¥å…·é“¾
- âœ… è‡ªåŠ¨åŒ–ä»£ç æ ¼å¼åŒ– (Black, isort)
- âœ… ä»£ç æ£€æŸ¥ (Ruff, Flake8, Mypy)
- âœ… å®‰å…¨æ‰«æ (Bandit)
- âœ… Git æäº¤é’©å­ (Pre-commit)

### éƒ¨ç½²ä¼˜åŒ–

- âœ… Docker å®¹å™¨åŒ–
- âœ… Nginx åå‘ä»£ç†
- âœ… å¤šç¯å¢ƒé…ç½®ç®¡ç†
- âœ… è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬
- âœ… å®Œæ•´éƒ¨ç½²æ–‡æ¡£

### æµ‹è¯•è¦†ç›–

- âœ… å®Œæ•´æµ‹è¯•å¥—ä»¶
- âœ… 84% æµ‹è¯•è¦†ç›–ç‡
- âœ… å¼‚æ­¥æµ‹è¯•æ”¯æŒ

## ğŸ› ï¸ æŠ€æœ¯æ ˆå‡çº§

- **æ¡†æ¶**: FastAPI (é«˜æ€§èƒ½å¼‚æ­¥)
- **æ•°æ®éªŒè¯**: Pydantic v2
- **éƒ¨ç½²**: Docker + Nginx
- **æ•°æ®åº“**: Supabase
- **ä»£ç è´¨é‡**: Black + Ruff + Mypy

## ğŸ“ é¡¹ç›®ç»“æ„

[è¯¦ç»†çš„ç›®å½•ç»“æ„...]

## ğŸš€ å¿«é€Ÿå¼€å§‹

```bash
# å®‰è£…ä¾èµ–
pip install -r requirements/dev.txt

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
uvicorn main:app --reload

# è¿è¡Œæµ‹è¯•
pytest tests/ -v

# ä»£ç è´¨é‡æ£€æŸ¥
./scripts/check_quality.sh
```
````

## ğŸ“‹ è¿ç§»æ¸…å•

- [ ] ä»£ç  Review
- [ ] æµ‹è¯•éªŒè¯
- [ ] éƒ¨ç½²æµ‹è¯•
- [ ] æ–‡æ¡£æ›´æ–°
- [ ] åˆå¹¶åˆ°ä¸»åˆ†æ”¯

## ğŸ”„ ç ´åæ€§æ›´æ”¹

æœ¬é‡æ„åŒ…å«ç ´åæ€§æ›´æ”¹ï¼Œå»ºè®®ï¼š

1. å…ˆåœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯
2. æ›´æ–°ç›¸å…³å®¢æˆ·ç«¯ä»£ç 
3. é€æ­¥è¿ç§»ç°æœ‰æ•°æ®

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [éƒ¨ç½²æŒ‡å—](DEPLOYMENT.md)
- [API æ–‡æ¡£](http://localhost:8000/docs)
- [é‡æ„è¯´æ˜](README.md)

````

## æ­¥éª¤äº”ï¼šåˆå¹¶ç­–ç•¥

### é€‰é¡¹ Aï¼šç›´æ¥æ›¿æ¢ä¸»åˆ†æ”¯ï¼ˆæ¨èç”¨äºé‡æ„ï¼‰

```bash
# 1. åˆ‡æ¢åˆ°é‡æ„åˆ†æ”¯
git checkout refactor-v2

# 2. å¼ºåˆ¶æ›´æ–°mainåˆ†æ”¯åˆ°å½“å‰é‡æ„çŠ¶æ€
git checkout -B main

# 3. å¼ºåˆ¶æ¨é€åˆ°è¿œç¨‹ï¼ˆæ³¨æ„ï¼šè¿™ä¼šè¦†ç›–è¿œç¨‹mainåˆ†æ”¯ï¼‰
git push --force-with-lease origin main

# 4. è®¾ç½®é»˜è®¤åˆ†æ”¯
git push -u origin main
````

### é€‰é¡¹ Bï¼šä¿å®ˆåˆå¹¶ç­–ç•¥

```bash
# 1. åˆ‡æ¢åˆ°mainåˆ†æ”¯
git checkout main

# 2. åˆå¹¶é‡æ„åˆ†æ”¯
git merge refactor-v2

# 3. è§£å†³å¯èƒ½çš„å†²çª

# 4. æ¨é€åˆå¹¶ç»“æœ
git push origin main
```

## æ­¥éª¤å…­ï¼šæ¸…ç†å’Œè®¾ç½®

```bash
# 1. åˆ é™¤ä¸éœ€è¦çš„æœ¬åœ°åˆ†æ”¯
git branch -d backup-main-$(date +%Y%m%d) 2>/dev/null || echo "å¤‡ä»½åˆ†æ”¯ä¸å­˜åœ¨"

# 2. æ›´æ–°READMEæ–‡ä»¶ä¸­çš„ä»“åº“é“¾æ¥
# ç¡®ä¿æ‰€æœ‰æ–‡æ¡£ä¸­çš„é“¾æ¥éƒ½æŒ‡å‘æ­£ç¡®çš„ä»“åº“

# 3. è®¾ç½®åˆ†æ”¯ä¿æŠ¤è§„åˆ™ï¼ˆåœ¨GitHubç½‘é¡µä¸Šï¼‰
# - ä¿æŠ¤mainåˆ†æ”¯
# - è¦æ±‚PR review
# - è¦æ±‚çŠ¶æ€æ£€æŸ¥é€šè¿‡

# 4. åˆ›å»ºreleaseæ ‡ç­¾
git tag -a v2.0.0 -m "TimeHacker API é‡æ„ç‰ˆæœ¬ v2.0.0"
git push origin v2.0.0
```

## æ­¥éª¤ä¸ƒï¼šå›¢é˜Ÿé€šçŸ¥

å‘é€é€šçŸ¥ç»™å›¢é˜Ÿæˆå‘˜ï¼š

```markdown
ğŸ‰ **TimeHacker API é‡æ„å®Œæˆï¼**

æ–°ç‰ˆæœ¬ç‰¹æ€§ï¼š

- ç°ä»£åŒ– FastAPI æ¶æ„
- å®Œæ•´çš„ä»£ç è´¨é‡å·¥å…·
- Docker å®¹å™¨åŒ–éƒ¨ç½²
- 84% æµ‹è¯•è¦†ç›–ç‡

ğŸ“‹ **å¼€å‘è€…è¡ŒåŠ¨é¡¹ï¼š**

1. æ‹‰å–æœ€æ–°ä»£ç ï¼š`git pull origin main`
2. å®‰è£…æ–°ä¾èµ–ï¼š`pip install -r requirements/dev.txt`
3. å®‰è£… Git é’©å­ï¼š`pre-commit install`
4. é˜…è¯»æ–°æ–‡æ¡£ï¼š[README.md](README.md)

ğŸ”— **æœ‰ç”¨é“¾æ¥ï¼š**

- API æ–‡æ¡£: http://localhost:8000/docs
- éƒ¨ç½²æŒ‡å—: [DEPLOYMENT.md](DEPLOYMENT.md)
- è¿ç§»æŒ‡å—: [GITHUB_MIGRATION.md](GITHUB_MIGRATION.md)
```

## æ•…éšœæ’é™¤

### å¦‚æœæ¨é€è¢«æ‹’ç»

```bash
# å¦‚æœé‡åˆ° "Updates were rejected" é”™è¯¯
git pull --rebase origin main
git push origin main
```

### å¦‚æœéœ€è¦å›æ»š

```bash
# æ¢å¤åˆ°å¤‡ä»½åˆ†æ”¯
git checkout backup-main-$(date +%Y%m%d)
git checkout -B main
git push --force-with-lease origin main
```

### å¦‚æœæœ‰åˆå¹¶å†²çª

```bash
# æŸ¥çœ‹å†²çªæ–‡ä»¶
git status

# æ‰‹åŠ¨è§£å†³å†²çªå
git add .
git commit -m "è§£å†³åˆå¹¶å†²çª"
git push origin main
```

## éªŒè¯è¿ç§»æˆåŠŸ

```bash
# 1. å…‹éš†ä»“åº“åˆ°æ–°ç›®å½•éªŒè¯
cd /tmp
git clone https://github.com/JaredforReal/timehacker-api.git timehacker-test
cd timehacker-test/backend

# 2. éªŒè¯ä¾èµ–å®‰è£…
pip install -r requirements/dev.txt

# 3. éªŒè¯åº”ç”¨å¯åŠ¨
uvicorn main:app --reload --port 8001 &
sleep 5
curl http://localhost:8001/health
kill %1

# 4. éªŒè¯æµ‹è¯•è¿è¡Œ
pytest tests/ -v

echo "âœ… è¿ç§»éªŒè¯å®Œæˆï¼"
```

## è¿ç§»å®Œæˆæ£€æŸ¥æ¸…å•

- [ ] ä»£ç å·²æ¨é€åˆ° GitHub
- [ ] Pull Request å·²åˆ›å»ºï¼ˆå¦‚æœä½¿ç”¨ï¼‰
- [ ] åˆ†æ”¯å·²æ­£ç¡®åˆå¹¶æˆ–æ›¿æ¢
- [ ] æ–‡æ¡£é“¾æ¥å·²æ›´æ–°
- [ ] å›¢é˜Ÿå·²æ”¶åˆ°é€šçŸ¥
- [ ] CI/CD æµæ°´çº¿æ­£å¸¸å·¥ä½œ
- [ ] éƒ¨ç½²æµ‹è¯•é€šè¿‡
- [ ] å¤‡ä»½å·²å¦¥å–„ä¿å­˜

æ­å–œï¼æ‚¨å·²æˆåŠŸå®Œæˆ TimeHacker API çš„ GitHub ä»“åº“è¿ç§»ã€‚
